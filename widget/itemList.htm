<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<template id="itemlist-template">
    <ul class="nav nav-pills nav-stacked">
    </ul>
</template>

<script>
    (function ($) {
        var webrunes = window.webrunes || {};
        var importDoc = document.currentScript.ownerDocument;
        var template = importDoc.querySelector('#itemlist-template');
        var $template = $(template.innerHTML);

        var proto = Object.create(HTMLElement.prototype);
        proto.createdCallback = function () {
            var model = webrunes.jsonlds['ItemList'];
            if(model){
                for(var i = 0; i < model.itemListElement.length; i++){
                    var $li = $('<li></li>');
                    var $a = $('<a></a>').attr('href', model.itemListElement[i].url).html(model.itemListElement[i].name);
                    $($li).append($a);
                    $($template).append($li);
                }
            }
            this.outerHTML = $template.get(0).outerHTML;
        };
        document.registerElement('itemlist-widget', {prototype: proto});
    })(jQuery);
</script>